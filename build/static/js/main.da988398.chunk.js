(this["webpackJsonpmy-test"]=this["webpackJsonpmy-test"]||[]).push([[0],{107:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),i=(n(82),n(15)),s=n(20),l=n.n(s),u=n(140),d=n(139),j=n(11),b=n(29),f=n.n(b),O=n(39),h=n(27),p=n(63),g=n.n(p).a.create({withCredentials:!0,headers:{Accept:"application/json"}}),x=function(){return g.get("http://localhost:3001/notes.json").then((function(t){return t}))},_=function(){return g.get("http://localhost:3001/notes.json").then((function(t){return t}))},v=[],N=function(t,e){for(var n=[],a=0;a<e.length;a++)for(var c=0;c<t.length;c++)e[a].id===t[c]&&n.push(e[a]);return n},T=function(){return function(){var t=Object(O.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x();case 3:n=t.sent,e({type:"SET-NOTE",notes:n.data.notes}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("failed","Some error occurred");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},m=n(3),E=function(t){var e=Object(j.b)(),n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(a.useCallback)((function(){""!==r.trim()?(t.findNote("#".concat(r)),o(""),console.log("VSE OK")):console.log("Title is required")}),[r,t.findNote]),b=Object(a.useCallback)((function(){e(T())}),[e]);return Object(m.jsxs)("div",{className:l.a.search,children:[Object(m.jsx)(d.a,{value:r,placeholder:"Search...",onChange:function(t){o(t.currentTarget.value)},id:"filled-basic",label:"Search Notes",variant:"filled"}),Object(m.jsx)(u.a,{onClick:b,variant:"outlined",color:"inherit",children:"All"}),Object(m.jsx)(u.a,{onClick:s,variant:"outlined",color:"inherit",children:"Filter"})]})},A=function(t){var e=Object(a.useState)(""),n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:l.a.addNotes,children:[Object(m.jsx)(d.a,{value:c,onChange:function(t){r(t.currentTarget.value)},id:"filled-basic",label:"Add Notes",variant:"filled"}),Object(m.jsx)(u.a,{onClick:function(){""!==c.trim()?(t.addNote(c),r("")):console.log("Title is required")},variant:"outlined",color:"inherit",children:"Add"})]})},C=n(44),k=n.n(C),y=n(68),S=n.n(y),D=function(t){var e=t.children,n=t.onClick;return Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:n,className:S.a.btn,children:e})})},I=n(22),F=n.n(I),w=n(69),L=n.n(w),M=n(70),B=function(t){return Object(m.jsx)(M.a,{value:t.areaText,className:L.a.text_area,onKeyUp:t.onKeyPress,highlight:t.tagsNameArray,onChange:function(e){return t.setAreaText(e.target.value)}})},P=n(141),q=[],G=function(t){return{type:"ADD-TAG",tag:t}},K=function(t){var e=Object(j.b)(),n=Object(a.useState)(t.notes.textNote),c=Object(i.a)(n,2),r=c[0],o=c[1],s=t.tags.map((function(t){return t.title.slice(1)})),l=r.match(/#[0-9A-Za-z\u0410-\u042f\u0430-\u044f\u0451]+/g);return Object(m.jsxs)("div",{className:F.a.container,children:[Object(m.jsxs)("div",{className:F.a.button,children:[Object(m.jsx)(D,{className:F.a.btn,onClick:function(){""!==r.trim()?t.updateNotes(t.notes,r):console.log("Title is required")},children:"Save"}),Object(m.jsx)(D,{className:F.a.btn,onClick:function(){t.setEditMode(!0)},children:"Change"})]}),Object(m.jsx)("div",{className:F.a.text,children:t.editMode?Object(m.jsx)(B,{areaText:r,className:F.a.inputBlock,onKeyPress:function(n){if(32===n.keyCode&&l&&l.length){var a=l?l[0]:"";o(r.replace(/#/g,""));var c={id:Object(P.a)(),title:"#".concat(a.slice(1)),noteId:t.notes.id};e(G(c))}},setAreaText:o,tagsNameArray:s}):Object(m.jsx)("div",{className:F.a.note_text,children:r})})]})},U=n(50),z=n.n(U),J=n(135),Q=function(t){var e=Object(a.useState)(""),n=Object(i.a)(e,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:z.a.tag,children:[Object(m.jsx)(J.a,{value:c,onChange:function(t){r(t.currentTarget.value)},type:"text",placeholder:"Add tag...",className:z.a.input}),Object(m.jsx)(D,{onClick:function(){""!==c.trim()?(t.addTag(c,t.noteId),r(""),console.log("VSE OK")):console.log("Title is required")},children:"Add"})]})},R=n(71),V=n.n(R),H=n(51),W=n.n(H),X=function(t){var e=Object(j.b)(),n=Object(a.useCallback)((function(){e({type:"DELETE-TAG",id:t.tag.id})}),[t.tag.id]);return Object(m.jsxs)("div",{className:W.a.tag,children:[t.tag.title,t.editMode&&Object(m.jsx)(u.a,{className:W.a.tagBtn,onClick:n,children:"X"})]})},Z=function(t){var e=Object(j.b)(),n=Object(a.useCallback)((function(){return t.tag&&t.tag.map((function(e){return Object(m.jsx)(X,{tag:e,editMode:t.editMode},e.id)}))}),[t.tag]);return Object(m.jsxs)("div",{className:V.a.container,children:[n(),Object(m.jsx)(Q,{addTag:function(t,n){var a={id:Object(P.a)(),title:"#".concat(t),noteId:n};e(G(a))},noteId:t.noteId})]})},Y=function(t){var e=Object(j.b)(),n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],o=c[1],s=Object(j.c)((function(e){return e.tags.filter((function(e){return e.noteId===t.note.id}))}));var l=Object(a.useCallback)((function(){e({type:"DELETE-NOTE",id:t.note.id})}),[t.note.id]);return Object(m.jsxs)("div",{className:k.a.note,children:[Object(m.jsx)("div",{className:k.a.headerNote,children:Object(m.jsx)(D,{onClick:l,children:"X"})}),Object(m.jsx)("div",{className:k.a.title,children:Object(m.jsx)("h1",{children:t.note.title})}),Object(m.jsx)(K,{notes:t.note,editMode:r,setEditMode:o,updateNotes:function(t,n){var a=n.replace(/#/g,""),c={id:t.id,title:t.title,textNote:a};if(""!==n.trim())e(function(t){return{type:"UPDATE-NOTE",note:t}}(c)),o(!1);else{console.log("failed","Text must be longer than ".concat(1," symbol"))}},tags:s}),Object(m.jsx)(Z,{tag:s,noteId:t.note.id,editMode:r})]})};var $=function(){var t=Object(j.b)(),e=Object(a.useState)([]),n=Object(i.a)(e,2),c=(n[0],n[1],Object(j.c)((function(t){return t.notes}))),r=Object(j.c)((function(t){return t.tags}));Object(a.useEffect)((function(){t(T()),t(function(){var t=Object(O.a)(f.a.mark((function t(e){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_();case 3:n=t.sent,e({type:"SET-TAG",tags:n.data.tags}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("failed","Some error occurred");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var o=Object(a.useCallback)((function(){return c&&c.map((function(t,e){return Object(m.jsx)(Y,{note:t},t.id)}))}),[c]);return Object(m.jsxs)("div",{className:l.a.app,children:[Object(m.jsx)("h1",{className:l.a.name,children:"NOTES"}),Object(m.jsx)(E,{findNote:function(e){var n=r.filter((function(t){return t.title===e})).map((function(t){return t.noteId}));t({type:"FILTER-NOTES",nodeId:n})}}),Object(m.jsx)(A,{addNote:function(e){var n=Object(P.a)();t({type:"ADD-NOTE",note:{id:n,title:e,textNote:"Add notes"}})}}),Object(m.jsx)("div",{className:l.a.note,children:o()})]})},tt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))},et=n(45),nt=n(72),at=Object(et.b)({notes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-NOTE":return Object(h.a)(e.notes);case"ADD-NOTE":return[e.note].concat(Object(h.a)(t));case"UPDATE-NOTE":return t.map((function(t){return t.id===e.note.id?e.note:t}));case"DELETE-NOTE":return t.filter((function(t){return t.id!==e.id}));case"FILTER-NOTES":return N(e.nodeId,Object(h.a)(t));default:return t}},tags:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TAG":return Object(h.a)(e.tags);case"ADD-TAG":return[].concat(Object(h.a)(t),[e.tag]);case"DELETE-TAG":return t.filter((function(t){return t.id!==e.id}));default:return t}}}),ct=Object(et.c)(at,Object(et.a)(nt.a));o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(j.a,{store:ct,children:Object(m.jsx)($,{})})}),document.getElementById("root")),tt()},20:function(t,e,n){t.exports={app:"App_app__3Bl20",name:"App_name__W0Qks",search:"App_search__1_HLQ",addNotes:"App_addNotes__13eSY",note:"App_note__2vxUD"}},22:function(t,e,n){t.exports={container:"NotesField_container__3N7mE",button:"NotesField_button__2UyP_",btn:"NotesField_btn__3mbhl",text:"NotesField_text__2aQCI",input:"NotesField_input__370uE",note_text:"NotesField_note_text__Ftoys"}},44:function(t,e,n){t.exports={note:"Note_note__1RsDL",headerNote:"Note_headerNote__31V-K",title:"Note_title__JlUW3"}},50:function(t,e,n){t.exports={tag:"AddTag_tag__3wFw7",input:"AddTag_input__SHEOi"}},51:function(t,e,n){t.exports={tag:"Tag_tag__1T_3z",tagBtn:"Tag_tagBtn__3736q"}},68:function(t,e,n){t.exports={btn:"Button_btn__3xOzl"}},69:function(t,e,n){t.exports={text_area:"Input_text_area__2Tf2C"}},71:function(t,e,n){t.exports={container:"TagContainer_container__ZsqPg"}},82:function(t,e,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.da988398.chunk.js.map