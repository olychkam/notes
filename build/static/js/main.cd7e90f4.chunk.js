(this["webpackJsonpmy-test"]=this["webpackJsonpmy-test"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),i=n.n(r),o=(n(82),n(20)),s=n.n(o),l=n(16),u=n(140),d=n(139),j=n(11),b=n(29),f=n.n(b),O=n(39),h=n(27),p=n(63),x=n.n(p).a.create({withCredentials:!0,headers:{Accept:"application/json"}}),g=function(){return x.get("http://localhost:3001/notes.json").then((function(e){return e}))},_=function(){return x.get("http://localhost:3001/notes.json").then((function(e){return e}))},v=[],N=function(e,t){for(var n=[],a=0;a<t.length;a++)for(var c=0;c<e.length;c++)t[a].id===e[c]&&n.push(t[a]);return n},T=function(){return function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:n=e.sent,t({type:"SET-NOTE",notes:n.data.notes}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed","Some error occurred");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},m=n(3),E=function(e){var t=e.findNote,n=Object(j.b)(),c=Object(a.useState)(""),r=Object(l.a)(c,2),i=r[0],o=r[1],b=Object(a.useCallback)((function(){""!==i.trim()?(t("#".concat(i)),o(""),console.log("VSE OK")):console.log("Title is required")}),[i,t]),f=Object(a.useCallback)((function(){n(T())}),[n]);return Object(m.jsxs)("div",{className:s.a.search,children:[Object(m.jsx)(d.a,{value:i,placeholder:"Search...",onChange:function(e){o(e.currentTarget.value)},id:"filled-basic",label:"Search Notes",variant:"filled"}),Object(m.jsx)(u.a,{onClick:f,variant:"outlined",color:"inherit",children:"All"}),Object(m.jsx)(u.a,{onClick:b,variant:"outlined",color:"inherit",children:"Filter"})]})},A=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:s.a.addNotes,children:[Object(m.jsx)(d.a,{value:c,onChange:function(e){r(e.currentTarget.value)},id:"filled-basic",label:"Add Notes",variant:"filled"}),Object(m.jsx)(u.a,{onClick:function(){""!==c.trim()?(e.addNote(c),r("")):console.log("Title is required")},variant:"outlined",color:"inherit",children:"Add"})]})},C=n(44),k=n.n(C),y=n(68),S=n.n(y),D=function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:n,className:S.a.btn,children:t})})},I=n(22),F=n.n(I),w=n(69),L=n.n(w),M=n(70),B=function(e){return Object(m.jsx)(M.a,{value:e.areaText,className:L.a.text_area,onKeyUp:e.onKeyPress,highlight:e.tagsNameArray,onChange:function(t){return e.setAreaText(t.target.value)}})},P=n(141),q=[],G=function(e){return{type:"ADD-TAG",tag:e}},K=function(e){var t=Object(j.b)(),n=Object(a.useState)(e.notes.textNote),c=Object(l.a)(n,2),r=c[0],i=c[1],o=e.tags.map((function(e){return e.title.slice(1)})),s=r.match(/#[0-9A-Za-z\u0410-\u042f\u0430-\u044f\u0451]+/g);return Object(m.jsxs)("div",{className:F.a.container,children:[Object(m.jsxs)("div",{className:F.a.button,children:[Object(m.jsx)(D,{className:F.a.btn,onClick:function(){""!==r.trim()?e.updateNotes(e.notes,r):console.log("Title is required")},children:"Save"}),Object(m.jsx)(D,{className:F.a.btn,onClick:function(){e.setEditMode(!0)},children:"Change"})]}),Object(m.jsx)("div",{className:F.a.text,children:e.editMode?Object(m.jsx)(B,{areaText:r,className:F.a.inputBlock,onKeyPress:function(n){if(32===n.keyCode&&s&&s.length){var a=s?s[0]:"";i(r.replace(/#/g,""));var c={id:Object(P.a)(),title:"#".concat(a.slice(1)),noteId:e.notes.id};t(G(c))}},setAreaText:i,tagsNameArray:o}):Object(m.jsx)("div",{className:F.a.note_text,children:r})})]})},U=n(50),z=n.n(U),J=n(135),Q=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:z.a.tag,children:[Object(m.jsx)(J.a,{value:c,onChange:function(e){r(e.currentTarget.value)},type:"text",placeholder:"Add tag...",className:z.a.input}),Object(m.jsx)(D,{onClick:function(){""!==c.trim()?(e.addTag(c,e.noteId),r(""),console.log("VSE OK")):console.log("Title is required")},children:"Add"})]})},R=n(71),V=n.n(R),H=n(51),W=n.n(H),X=function(e){var t=e.tag,n=e.editMode,c=Object(j.b)(),r=Object(a.useCallback)((function(){c({type:"DELETE-TAG",id:t.id})}),[c,t]);return Object(m.jsxs)("div",{className:W.a.tag,children:[t.title,n&&Object(m.jsx)(u.a,{className:W.a.tagBtn,onClick:r,children:"X"})]})},Z=function(e){var t=e.tag,n=e.editMode,c=e.noteId,r=(e.children,Object(j.b)()),i=Object(a.useCallback)((function(){return t&&t.map((function(e){return Object(m.jsx)(X,{tag:e,editMode:n},e.id)}))}),[t,n]);return Object(m.jsxs)("div",{className:V.a.container,children:[i(),Object(m.jsx)(Q,{addTag:function(e,t){var n={id:Object(P.a)(),title:"#".concat(e),noteId:t};r(G(n))},noteId:c})]})},Y=function(e){var t=e.note,n=Object(j.b)(),c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],o=r[1],s=Object(j.c)((function(e){return e.tags.filter((function(e){return e.noteId===t.id}))}));var u=Object(a.useCallback)((function(){n({type:"DELETE-NOTE",id:t.id})}),[n,t.id]);return Object(m.jsxs)("div",{className:k.a.note,children:[Object(m.jsx)("div",{className:k.a.headerNote,children:Object(m.jsx)(D,{onClick:u,children:"X"})}),Object(m.jsx)("div",{className:k.a.title,children:Object(m.jsx)("h1",{children:t.title})}),Object(m.jsx)(K,{notes:t,editMode:i,setEditMode:o,updateNotes:function(e,t){var a=t.replace(/#/g,""),c={id:e.id,title:e.title,textNote:a};if(""!==t.trim())n(function(e){return{type:"UPDATE-NOTE",note:e}}(c)),o(!1);else{console.log("failed","Text must be longer than ".concat(1," symbol"))}},tags:s}),Object(m.jsx)(Z,{tag:s,noteId:t.id,editMode:i})]})},$=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.notes})),n=Object(j.c)((function(e){return e.tags}));Object(a.useEffect)((function(){e(T()),e(function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:n=e.sent,t({type:"SET-TAG",tags:n.data.tags}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed","Some error occurred");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var c=Object(a.useCallback)((function(){return t&&t.map((function(e){return Object(m.jsx)(Y,{note:e},e.id)}))}),[t]);return Object(m.jsxs)("div",{className:s.a.app,children:[Object(m.jsx)("h1",{className:s.a.name,children:"NOTES"}),Object(m.jsx)(E,{findNote:function(t){var a=n.filter((function(e){return e.title===t})).map((function(e){return e.noteId}));e({type:"FILTER-NOTES",nodeId:a})}}),Object(m.jsx)(A,{addNote:function(t){var n=Object(P.a)();e({type:"ADD-NOTE",note:{id:n,title:t,textNote:"Add notes"}})}}),Object(m.jsx)("div",{className:s.a.note,children:c()})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},te=n(45),ne=n(72),ae=Object(te.b)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-NOTE":return Object(h.a)(t.notes);case"ADD-NOTE":return[t.note].concat(Object(h.a)(e));case"UPDATE-NOTE":return e.map((function(e){return e.id===t.note.id?t.note:e}));case"DELETE-NOTE":return e.filter((function(e){return e.id!==t.id}));case"FILTER-NOTES":return N(t.nodeId,Object(h.a)(e));default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TAG":return Object(h.a)(t.tags);case"ADD-TAG":return[].concat(Object(h.a)(e),[t.tag]);case"DELETE-TAG":return e.filter((function(e){return e.id!==t.id}));default:return e}}}),ce=Object(te.c)(ae,Object(te.a)(ne.a));i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(j.a,{store:ce,children:Object(m.jsx)($,{})})}),document.getElementById("root")),ee()},20:function(e,t,n){e.exports={app:"App_app__3Bl20",name:"App_name__W0Qks",search:"App_search__1_HLQ",addNotes:"App_addNotes__13eSY",note:"App_note__2vxUD"}},22:function(e,t,n){e.exports={container:"NotesField_container__3N7mE",button:"NotesField_button__2UyP_",btn:"NotesField_btn__3mbhl",text:"NotesField_text__2aQCI",input:"NotesField_input__370uE",note_text:"NotesField_note_text__Ftoys"}},44:function(e,t,n){e.exports={note:"Note_note__1RsDL",headerNote:"Note_headerNote__31V-K",title:"Note_title__JlUW3"}},50:function(e,t,n){e.exports={tag:"AddTag_tag__3wFw7",input:"AddTag_input__SHEOi"}},51:function(e,t,n){e.exports={tag:"Tag_tag__1T_3z",tagBtn:"Tag_tagBtn__3736q"}},68:function(e,t,n){e.exports={btn:"Button_btn__3xOzl"}},69:function(e,t,n){e.exports={text_area:"Input_text_area__2Tf2C"}},71:function(e,t,n){e.exports={container:"TagContainer_container__ZsqPg"}},82:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.cd7e90f4.chunk.js.map