(this["webpackJsonpmy-test"]=this["webpackJsonpmy-test"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),i=n.n(r),o=(n(82),n(15)),s=n(20),u=n.n(s),l=n(140),d=n(139),j=n(11),b=n(29),f=n.n(b),O=n(39),h=n(27),p=n(63),g=n.n(p).a.create({withCredentials:!0,headers:{Accept:"application/json"}}),x=function(){return g.get("/notes.json").then((function(e){return e}))},_=function(){return g.get("/notes.json").then((function(e){return e}))},v=[],N=function(e,t){for(var n=[],a=0;a<t.length;a++)for(var c=0;c<e.length;c++)t[a].id===e[c]&&n.push(t[a]);return n},T=function(){return function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:n=e.sent,t({type:"SET-NOTE",notes:n.data.notes}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed","Some error occurred");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},m=n(3),E=function(e){var t=Object(j.b)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useCallback)((function(){""!==r.trim()?(e.findNote("#".concat(r)),i(""),console.log("VSE OK")):console.log("Title is required")}),[r,e.findNote]),b=Object(a.useCallback)((function(){t(T())}),[t]);return Object(m.jsxs)("div",{className:u.a.search,children:[Object(m.jsx)(d.a,{value:r,placeholder:"Search...",onChange:function(e){i(e.currentTarget.value)},id:"filled-basic",label:"Search Notes",variant:"filled"}),Object(m.jsx)(l.a,{onClick:b,variant:"outlined",color:"inherit",children:"All"}),Object(m.jsx)(l.a,{onClick:s,variant:"outlined",color:"inherit",children:"Filter"})]})},A=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:u.a.addNotes,children:[Object(m.jsx)(d.a,{value:c,onChange:function(e){r(e.currentTarget.value)},id:"filled-basic",label:"Add Notes",variant:"filled"}),Object(m.jsx)(l.a,{onClick:function(){""!==c.trim()?(e.addNote(c),r("")):console.log("Title is required")},variant:"outlined",color:"inherit",children:"Add"})]})},C=n(44),k=n.n(C),S=n(68),y=n.n(S),F=function(e){var t=e.children,n=e.onClick;return Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:n,className:y.a.btn,children:t})})},I=n(22),D=n.n(I),w=n(69),M=n.n(w),L=n(70),B=function(e){return Object(m.jsx)(L.a,{value:e.areaText,className:M.a.text_area,onKeyUp:e.onKeyPress,highlight:e.tagsNameArray,onChange:function(t){return e.setAreaText(t.target.value)}})},G=n(141),P=[],q=function(e){return{type:"ADD-TAG",tag:e}},K=function(e){var t=Object(j.b)(),n=Object(a.useState)(e.notes.textNote),c=Object(o.a)(n,2),r=c[0],i=c[1],s=e.tags.map((function(e){return e.title.slice(1)})),u=r.match(/#[0-9A-Za-z\u0410-\u042f\u0430-\u044f\u0451]+/g);return Object(m.jsxs)("div",{className:D.a.container,children:[Object(m.jsxs)("div",{className:D.a.button,children:[Object(m.jsx)(F,{className:D.a.btn,onClick:function(){""!==r.trim()?e.updateNotes(e.notes,r):console.log("Title is required")},children:"Save"}),Object(m.jsx)(F,{className:D.a.btn,onClick:function(){e.setEditMode(!0)},children:"Change"})]}),Object(m.jsx)("div",{className:D.a.text,children:e.editMode?Object(m.jsx)(B,{areaText:r,className:D.a.inputBlock,onKeyPress:function(n){if(32===n.keyCode&&u&&u.length){var a=u?u[0]:"";i(r.replace(/#/g,""));var c={id:Object(G.a)(),title:"#".concat(a.slice(1)),noteId:e.notes.id};t(q(c))}},setAreaText:i,tagsNameArray:s}):Object(m.jsx)("div",{className:D.a.note_text,children:r})})]})},U=n(50),J=n.n(U),R=n(135),X=function(e){var t=Object(a.useState)(""),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(m.jsxs)("div",{className:J.a.tag,children:[Object(m.jsx)(R.a,{value:c,onChange:function(e){r(e.currentTarget.value)},type:"text",placeholder:"Add tag...",className:J.a.input}),Object(m.jsx)(F,{onClick:function(){""!==c.trim()?(e.addTag(c,e.noteId),r(""),console.log("VSE OK")):console.log("Title is required")},children:"Add"})]})},z=n(71),Z=n.n(z),Q=n(51),V=n.n(Q),H=function(e){var t=Object(j.b)(),n=Object(a.useCallback)((function(){t({type:"DELETE-TAG",id:e.tag.id})}),[e.tag.id]);return Object(m.jsxs)("div",{className:V.a.tag,children:[e.tag.title,e.editMode&&Object(m.jsx)(l.a,{className:V.a.tagBtn,onClick:n,children:"X"})]})},Y=function(e){var t=Object(j.b)(),n=Object(a.useCallback)((function(){return e.tag&&e.tag.map((function(t){return Object(m.jsx)(H,{tag:t,editMode:e.editMode},t.id)}))}),[e.tag]);return Object(m.jsxs)("div",{className:Z.a.container,children:[n(),Object(m.jsx)(X,{addTag:function(e,n){var a={id:Object(G.a)(),title:"#".concat(e),noteId:n};t(q(a))},noteId:e.noteId})]})},W=function(e){var t=Object(j.b)(),n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(j.c)((function(t){return t.tags.filter((function(t){return t.noteId===e.note.id}))}));var u=Object(a.useCallback)((function(){t({type:"DELETE-NOTE",id:e.note.id})}),[e.note.id]);return Object(m.jsxs)("div",{className:k.a.note,children:[Object(m.jsx)("div",{className:k.a.headerNote,children:Object(m.jsx)(F,{onClick:u,children:"X"})}),Object(m.jsx)("div",{className:k.a.title,children:Object(m.jsx)("h1",{children:e.note.title})}),Object(m.jsx)(K,{notes:e.note,editMode:r,setEditMode:i,updateNotes:function(e,n){var a=n.replace(/#/g,""),c={id:e.id,title:e.title,textNote:a};if(""!==n.trim())t(function(e){return{type:"UPDATE-NOTE",note:e}}(c)),i(!1);else{console.log("failed","Text must be longer than ".concat(1," symbol"))}},tags:s}),Object(m.jsx)(Y,{tag:s,noteId:e.note.id,editMode:r})]})};var $=function(){var e=Object(j.b)(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=(n[0],n[1],Object(j.c)((function(e){return e.notes}))),r=Object(j.c)((function(e){return e.tags}));Object(a.useEffect)((function(){e(T()),e(function(){var e=Object(O.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:n=e.sent,t({type:"SET-TAG",tags:n.data.tags}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("failed","Some error occurred");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]);var i=Object(a.useCallback)((function(){return c&&c.map((function(e,t){return Object(m.jsx)(W,{note:e},e.id)}))}),[c]);return Object(m.jsxs)("div",{className:u.a.app,children:[Object(m.jsx)("h1",{className:u.a.name,children:"NOTES"}),Object(m.jsx)(E,{findNote:function(t){var n=r.filter((function(e){return e.title===t})).map((function(e){return e.noteId}));e({type:"FILTER-NOTES",nodeId:n})}}),Object(m.jsx)(A,{addNote:function(t){var n=Object(G.a)();e({type:"ADD-NOTE",note:{id:n,title:t,textNote:"Add notes"}})}}),Object(m.jsx)("div",{className:u.a.note,children:i()})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},te=n(45),ne=n(72),ae=Object(te.b)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-NOTE":return Object(h.a)(t.notes);case"ADD-NOTE":return[t.note].concat(Object(h.a)(e));case"UPDATE-NOTE":return e.map((function(e){return e.id===t.note.id?t.note:e}));case"DELETE-NOTE":return e.filter((function(e){return e.id!==t.id}));case"FILTER-NOTES":return N(t.nodeId,Object(h.a)(e));default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-TAG":return Object(h.a)(t.tags);case"ADD-TAG":return[].concat(Object(h.a)(e),[t.tag]);case"DELETE-TAG":return e.filter((function(e){return e.id!==t.id}));default:return e}}}),ce=Object(te.c)(ae,Object(te.a)(ne.a));i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(j.a,{store:ce,children:Object(m.jsx)($,{})})}),document.getElementById("root")),ee()},20:function(e,t,n){e.exports={app:"App_app__ASR7Z",name:"App_name__3EJ0w",search:"App_search__2TcF-",addNotes:"App_addNotes__3P7sJ",note:"App_note__C6Q71"}},22:function(e,t,n){e.exports={container:"NotesField_container__3Ac_q",button:"NotesField_button__2uhqi",btn:"NotesField_btn__1Lyio",text:"NotesField_text__G40he",input:"NotesField_input__3dN8Q",note_text:"NotesField_note_text__2-s8U"}},44:function(e,t,n){e.exports={note:"Note_note__27Z2S",headerNote:"Note_headerNote__1HNpx",title:"Note_title__hGCzP"}},50:function(e,t,n){e.exports={tag:"AddTag_tag__3I4cF",input:"AddTag_input__3unFU"}},51:function(e,t,n){e.exports={tag:"Tag_tag__oY0u_",tagBtn:"Tag_tagBtn__1Az1k"}},68:function(e,t,n){e.exports={btn:"Button_btn__1pX2R"}},69:function(e,t,n){e.exports={text_area:"Input_text_area__v_XkS"}},71:function(e,t,n){e.exports={container:"TagContainer_container__1TBMs"}},82:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.bf7ee9ed.chunk.js.map